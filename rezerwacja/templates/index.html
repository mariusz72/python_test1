{% load staticfiles %}
{% load filters %}

<html>
    <head>
        <title>Django - System rezerwacji stolika</title>

        <!-- Include Required Prerequisites -->
        <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/1/jquery.min.js"></script>
        <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap/latest/css/bootstrap.css" />
        <!-- Include Date Range Picker -->
        <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />
           <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">     
        <link rel="stylesheet" href="{% static 'css/AdminLTE.min.css' %}">
        <link rel="stylesheet" href="{% static 'css/rezerwacje.css' %}">
        <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
    </head>
    <body>

      <div class="callout callout-info">
        <h4>System rezerwacji stolika</h4>
      </div>
    <section class="content-header">

      <div class="box box-default">
        <div class="box-header with-border ">
          <h3 class="box-title">Założenia</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-remove"></i></button>
          </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
          <div class="row">
            <div class="box-body">
              <ol>
                <li>Wybranie z kalendarza daty i godziny rezerwacji</li>
                <li>Podanie imienia i nazwiska rezerwującego</li>
                <li>Podanie adresu email</li>
                <li>Wybranie stolika (stoliki powinny być pokazane w sposób graficzny w przykładowej Sali)</li>
                <li>Określenie liczby osób</li>
                <li>System powinien poinformować jeżeli stolik jest wolny, jeżeli zajęty wyświetlić informacje o
                    terminie zajętości i zaproponować stolik wolny w tym terminie z uwzględnieniem ilości osób
                    które mogą się zmieścić przy danym stoliku.</li>
                <li>System powinien wyświetlić podsumowanie do potwierdzenia przez użytkownika wraz z ceną
                    rezerwacji 5$ za osobę.</li>
                <li>Po potwierdzeniu rezerwacji informacja powinna się wysłać na e-mail.</li>
              </ol>
            </div>          
          </div>
          <!-- /.row -->
        </div>
      </div>
      <!-- /.box -->
      
   </section>

   <section class="content">      
      
    <form method="POST" class="post-form">{% csrf_token %}

          <div class="box box-primary">
            <div class="box-header">
              <h3 class="box-title">Rezerwacja stolika </h3>
            </div>
            <div class="box-body">
            
              <div class="form-group">
                <label>Początek rezerwacji:</label>
                <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-clock-o"></i>
                  </div>
                  {{ form.od|addcss:'form-control'  }}
                </div>
              </div>

              <div class="form-group">
                <label>Koniec rezerwacji:</label>
                <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-clock-o"></i>
                  </div>
                  {{ form.do|addcss:'form-control'  }}
                </div>
              </div>      
              
             <div class="form-group">
                <label>Imie:</label>
                <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-circle-thin"></i>
                  </div>                
                  {{ form.imie|add_css_attr:'form-control,true'  }}
                </div>
              </div> 

              <div class="form-group">
                <label>Nazwisko:</label>
                <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-circle-thin"></i>
                  </div>                
                  {{ form.nazwisko|add_css_attr:'form-control,true'}}
                </div>
              </div> 

              <div class="form-group">
                <label>Email:</label>
                <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-envelope"></i>
                  </div>
                  {{ form.email|add_css_attr:'form-control,true' }}
                </div>
              </div> 

              <div class="form-group">
                <label>Nr stolika:</label>
                <div class="input-group" >
                   <div class="input-group-addon">
                    <i class="fa fa-coffee" data-toggle="modal" data-target="#myModal"></i>
                  </div>
                  {{ form.stolik|add_css_attr:'form-control,true'  }}
                </div>
              </div> 
              
              <div class="form-group">
                <label>ilość osób:</label>
                <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-circle-thin"></i>
                  </div>                
                  {{ form.ileosob|add_css_attr:'form-control,true'  }}
                </div>
              </div>     
                        
              <div class="box-footer">
                <button type="submit" class="btn btn-info ">Zapisz rezerwacje</button>
              </div>
              <!-- /.box-footer -->
            </form>             
            </div>
   </section>
   

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Wybór stolika</h4>
      </div>
      <div class="modal-body">
      
<table width="500" border="0" cellpadding="0" cellspacing="0" summary="Split Image">
<tr>
 <td><a href="#1x1" id="1" ><img src="{% static 'img/plan/plan23_part1x1.jpg' %}" width="166" height="133" alt="Part 1x1" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part1x1.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part1x1.jpg' %}';return true;" /></a></td>
 <td><img src="{% static 'img/plan/plan23_swap_part1x2.jpg' %}" width="166" height="133" alt="Part 1x2" border="0" /></td>
 <td><a href="#1x3" id="2" ><img src="{% static 'img/plan/plan23_part1x3.jpg' %}" width="168" height="133" alt="Part 1x3" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part1x3.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part1x3.jpg' %}';return true;" /></a></td>
</tr>
<tr>
 <td><a href="#2x1" id="3" ><img src="{% static 'img/plan/plan23_part2x1.jpg' %}" width="166" height="133" alt="Part 2x1" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part2x1.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part2x1.jpg' %}';return true;" /></a></td>
 <td><a href="#2x2" id="4" ><img src="{% static 'img/plan/plan23_part2x2.jpg' %}" width="166" height="133" alt="Part 2x2" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part2x2.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part2x2.jpg' %}';return true;" /></a></td>
 <td><a href="#2x3" id="5" ><img src="{% static 'img/plan/plan23_part2x3.jpg' %}" width="168" height="133" alt="Part 2x3" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part2x3.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part2x3.jpg' %}';return true;" /></a></td>
</tr>
<tr>
 <td><a href="#3x1" id="6" ><img src="{% static 'img/plan/plan23_part3x1.jpg' %}" width="166" height="133" alt="Part 3x1" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part3x1.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part3x1.jpg' %}';return true;" /></a></td>
 <td><a href="#3x2" id="7" ><img src="{% static 'img/plan/plan23_part3x2.jpg' %}" width="166" height="133" alt="Part 3x2" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part3x2.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part3x2.jpg' %}';return true;" /></a></td>
 <td><a href="#3x3" id="8" ><img src="{% static 'img/plan/plan23_part3x3.jpg' %}" width="168" height="133" alt="Part 3x3" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part3x3.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part3x3.jpg' %}';return true;" /></a></td>
</tr>
<tr>
 <td><a href="#4x1" id="9" ><img src="{% static 'img/plan/plan23_part4x1.jpg' %}" width="166" height="135" alt="Part 4x1" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part4x1.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part4x1.jpg' %}';return true;" /></a></td>
 <td><a href="#4x2" id="10" ><img src="{% static 'img/plan/plan23_part4x2.jpg' %}" width="166" height="135" alt="Part 4x2" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part4x2.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part4x2.jpg' %}';return true;" /></a></td>
 <td><a href="#4x3" id="11" ><img src="{% static 'img/plan/plan23_part4x3.jpg' %}" width="168" height="135" alt="Part 4x3" border="0" onmouseover="this.src='{% static 'img/plan/plan23_swap_part4x3.jpg' %}';return true;" onmouseout="this.src='{% static 'img/plan/plan23_part4x3.jpg' %}';return true;" /></a></td>
</tr>
</table>    

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>

  $(function () {

    $('#id_od').daterangepicker({
          startDate: moment(),
          endDate: moment().subtract('hours', 12),
    "singleDatePicker": true,
    "timePicker": true,
    "timePicker24Hour": true,
    "timePickerIncrement": 30,
    "opens": "left",
    "drops": "up",
        locale: {
        format: 'YYYY-MM-DD HH:mm'
        }
      });
      
    $('#id_do').daterangepicker({
          startDate: moment(),
          endDate: moment().subtract('hours', 12),      
    "singleDatePicker": true,
    "timePicker": true,
    "timePicker24Hour": true,
    "timePickerIncrement": 30,
    "opens": "left",
    "drops": "up",
        locale: {
        format: 'YYYY-MM-DD HH:mm'
        }
      });      

$( "a" ).click(function() {
  var nr = $(this).attr("id");
   $('#id_stolik').val(nr);
   $('#myModal').modal('hide');
});
     

  });

</script>
    
    </body>
</html>
